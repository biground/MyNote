# 字符串
Lua中的字符串为不可变的值，可以通过创建新字符串的方式来达到修改的目的：
```lua
a = "one string"
b = string.gsub(a, "one", "another")
print(a)    -- one string
print(b)    -- another string
```

**字符串是自动内存管理的对象，Lua语言会负责字符串的分配与释放，无需开发人员关注**

使用长度操作符(#)来获取字符串的长度
```lua
a = "hello"
print(#a)   -- 5
```
该操作符返回字符串占用的字节数，在某些编码中，这个值可能与字符串中字符的个数不同。

使用 .. 进行字符串连接（返回值为连接后的字符串）。如果操作符中存在数值，那么Lua会先把数值转换成字符串
```lua
"Hello " .. "World" -- Hello World
"result is " .. 3 -- result is 3
```

# 长字符串/多行字符串
像长注释/多行注释一样，可以使用一对双方括号来声明长字符串/多行字符串常量。被方括号括起来的内容可以包括很多行，并且内容中的转义序列不会被转义。此外，如果多行字符串中的第一个字符是换行符，那么这个换行符会被忽略。多行字符串在声明包含大段代码的字符串时非常方便，例如:
```lua
page = [[
    <html>
    <head>
    </head>
    <body>
    </body>
    </html>
]]
```
有时字符串中可能有类似这样的内容：
```lua
code = [[
    a=b[c[i]]
]]
```
或者字符串中可能也有被注释掉的代码。为了应对这种情况，可以在两个左括号之间加上任意数量的等号，如`[======[`。这样字符串常量只有在遇到了包含相同数量等号的两个右方括号时才会结束。

# 强制类型转换
Lua不仅在算数操作时进行这种强制类型转换，还会在任何需要述职的情况下进行，例如函数math.sin的参数。

相反，当Lua发现在需要字符串的地方出现数值时，就会把数值转化为字符串

算术运算的规则就是只有在两个操作数都是整型值时结果才是整型。因此，由于字符串不是整型值，所以任何有字符串参与的算术运算都会被当做浮点运算处理。

与算术操作不同，比较操作符不会对操作数进行强制类型转换。请注意，"0" 和0是不同的。此外，2<15明显为真，但"2"<"15"却为假(字母顺序)。为了避免出现不一致的结果，当比较操作符中混用了字符串和数值(比如2<"15")时，Lua语言会抛出异常。